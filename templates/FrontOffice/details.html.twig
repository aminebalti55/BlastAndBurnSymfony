{% extends '/FrontOffice/base.html.twig' %}
{% block body %}


    <!-- Hero Area Start-->
<div class="slider-area ">
    <div class="single-slider slider-height2 d-flex align-items-center">
        <div class="container">
            <div class="row">
                <div class="col-xl-12">
                    <div class="hero-cap text-center">
                        <h2>Details</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Hero Area End-->
    <!-- Property Details Section Begin -->
    <section class="property-details-section">
        <div class="container">
            </br></br></br>
            <div class="row">
                <div class="col-lg-8">
                    <div class="pd-text">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="pd-title">

                                    <span class="heart-icon">
                                        <span class="icon_heart" id="unfavorite" style="display: {% if fav is not null %}inline; cursor: pointer{% else %}none; cursor: pointer{% endif %}"></span>
                                        <span class="icon_heart_alt" id="favorite" style="display: {% if fav is not null %}none; cursor: pointer{% else %}inline; cursor: pointer{% endif %}"></span>
                                    </span>
                                    <input type="hidden" id="id" value={{ item.id }}>
                                    <input type="hidden" id="type" value={{ item.className|lower }}>
                                    <div class="label"> {{ item.className|lower }}</div>
                                    <h3>{{ item.title }}</h3>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="pd-social">
                                    <button style="border: none; background: none" data-bs-toggle="modal" data-bs-target="#exampleModalMessage"><a href="#"><i class="fa fa-flag"></i></a></button>
                                    <button style="border: none; background: none" data-bs-toggle="modal" data-bs-target="#rate"><a href="#"><i class="fa fa-star"></i></a></button>
                                </div>
                            </div>
                            <!-- Modal -->
                            <div class="modal fade" id="exampleModalMessage" tabindex="-1" role="dialog" aria-labelledby="exampleModalMessageTitle" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Report {{ item.title }}</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">×</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <form action="{{ path ('details', {'type':item.className|lower, 'id':item.id, 't':'report'}) }}" method="post">
                                                <div class="form-group">
                                                    <label for="message-text" class="col-form-label">Message:</label>
                                                    <textarea class="form-control" name="reportText" id="message-text" required></textarea>
                                                </div>
                                                <div class="form-group">
                                                    <button type="button" class="btn bg-gradient-secondary" data-bs-dismiss="modal">Close</button>
                                                    <button type="submit" class="btn bg-gradient-primary">Send message</button>
                                                </div>
                                            </form>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <!-- Modal -->
                            <div class="modal fade" id="rate" tabindex="-1" role="dialog" aria-labelledby="exampleModalMessageTitle" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Rate {{ item.title }}</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">×</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <form action="{{ path ('details', {'type':item.className|lower, 'id':item.id, 't':'rate'}) }}" method="post">
                                                <div class="form-group">
                                                    <select name="rate" class="form-control">
                                                        <option value="5">Excellent</option>
                                                        <option value="4">Very Good</option>
                                                        <option value="3">Average</option>
                                                        <option value="2">Poor</option>
                                                        <option value="1">Terrible</option>
                                                    </select>
                                                </div>
                                                <br><br>
                                                <div class="form-group">
                                                    <button type="button" class="btn bg-gradient-secondary" data-bs-dismiss="modal">Close</button>
                                                    <button type="submit" class="btn bg-gradient-primary">Rate</button>
                                                </div>
                                            </form>
                                        </div>

                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="pd-board">
                            <div class="tab-board">
                                <ul class="nav nav-tabs" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" data-toggle="tab" href="#tabs-1" role="tab">Overview</a>
                                    </li>
                                    
                                </ul><!-- Tab panes -->
                                <div class="tab-content">
                                    <div class="tab-pane active" id="tabs-1" role="tabpanel">
                                        <div class="tab-details">
                                            <ul class="left-table">
                                                <li>
                                                    <span class="type-name">Type</span>
                                                    <span class="type-value">{{ item.className|lower }}</span>
                                                </li>
                                                <li>
                                                    <span class="type-name">Titre</span>
                                                    <span class="type-value">{{ item.title }}</span>
                                                </li>
                                                <li>
                                                    <span class="type-name">Description</span>
                                                    <span class="type-value">{{ item.Description }}</span>
                                                </li>
                                                <li>
                                                    <span class="type-name">creator</span>
                                                    <span class="type-value">{{ item.user.firstName }}  </span>
                                                </li>
                                              
                                            </ul>
                                         
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="tabs-2" role="tabpanel">
                                    
                                    </div>
                                    <div class="tab-pane" id="tabs-3" role="tabpanel">
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                       
                        <div class="pd-widget">
                            <h4>Agent</h4>
                            <div class="pd-agent">
                                <div class="agent-pic">
                                    <img src="../assets/others/img/property/details/agent.jpg" alt="">
                                </div>
                                <div class="agent-text">
                                    <div class="at-title">
                                        <h6>Ashton Kutcher</h6>
                                        <span>Founder & CEO</span>
                                        <a href="#" class="primary-btn">VIew profile</a>
                                    </div>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipis cing elit, eiusmod tempor incididunt</p>
                                    <div class="at-option">
                                        <div class="at-number">123-455-688</div>
                                        <div class="at-social">
                                            <a href="#"><i class="fa fa-facebook"></i></a>
                                            <a href="#"><i class="fa fa-twitter"></i></a>
                                            <a href="#"><i class="fa fa-envelope-o"></i></a>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="pd-widget">
                            <h4>02 reviews</h4>
                            <div class="pd-review">
                                <div class="pr-item">
                                    <div class="pr-avatar">
                                        <div class="pr-pic">
                                            <img src="../assets/others/img/property/details/review/review-1.jpg" alt="">
                                        </div>
                                        <div class="pr-text">
                                            <h6>Brandon Kelley</h6>
                                            <span>15 Aug 2017</span>
                                            <div class="pr-rating">
                                                <i class="fa fa-star"></i>
                                                <i class="fa fa-star"></i>
                                                <i class="fa fa-star"></i>
                                                <i class="fa fa-star"></i>
                                                <i class="fa fa-star"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <p>Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam.</p>
                                </div>
                                <div class="pr-item">
                                    <div class="pr-avatar">
                                        <div class="pr-pic">
                                            <img src="../assets/others/img/property/details/review/review-2.jpg" alt="">
                                        </div>
                                        <div class="pr-text">
                                            <h6>Matthew Nelson</h6>
                                            <span>15 Aug 2017</span>
                                            <div class="pr-rating">
                                                <i class="fa fa-star"></i>
                                                <i class="fa fa-star"></i>
                                                <i class="fa fa-star"></i>
                                                <i class="fa fa-star"></i>
                                                <i class="fa fa-star"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <p>Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam.</p>
                                </div>
                            </div>
                        </div>
                        <div class="pd-widget">
                            <h4>YOur Rating</h4>
                            <form action="#" class="review-form">
                                <div class="group-input">
                                    <input type="text" placeholder="Name">
                                    <input type="text" placeholder="Email">
                                    <input type="text" placeholder="Website">
                                </div>
                                <textarea placeholder="Messages"></textarea>
                                <div class="rating">
                                    <span>Your Rating:</span>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                </div>
                                <button type="submit" class="site-btn">send messages</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="property-sidebar">
                        <div class="single-sidebar">
                            <div class="section-title sidebar-title">
                                <h5>Top agent</h5>
                            </div>
                            <div class="top-agent">
                                <div class="ta-item">
                                    <div class="ta-pic set-bg" data-setbg="../assets/others/img/property/details/sidebar/ta-1.jpg"></div>
                                    <div class="ta-text">
                                        <h6><a href="#">Ashton Kutcher</a></h6>
                                        <span>Team Leader</span>
                                        <div class="ta-num">123-455-688</div>
                                    </div>
                                </div>
                                <div class="ta-item">
                                    <div class="ta-pic set-bg" data-setbg="../assets/others/img/property/details/sidebar/ta-2.jpg"></div>
                                    <div class="ta-text">
                                        <h6><a href="#">Ashton Kutcher</a></h6>
                                        <span>Team Leader</span>
                                        <div class="ta-num">123-455-688</div>
                                    </div>
                                </div>
                                <div class="ta-item">
                                    <div class="ta-pic set-bg" data-setbg="../assets/others/img/property/details/sidebar/ta-3.jpg"></div>
                                    <div class="ta-text">
                                        <h6><a href="#">Ashton Kutcher</a></h6>
                                        <span>Team Leader</span>
                                        <div class="ta-num">123-455-688</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="single-sidebar slider-op">
                            <div class="section-title sidebar-title">
                                <h5>Featural categories</h5>
                            </div>
                            <div class="sf-slider owl-carousel">
                                <div class="sf-item set-bg" data-setbg="../assets/others/img/categories/cat-1.jpg">
                                    <div class="sf-text">
                                        <h5>House</h5>
                                        <span>38 property</span>
                                    </div>
                                </div>
                                <div class="sf-item set-bg" data-setbg="../assets/others/img/categories/cat-2.jpg">
                                    <div class="sf-text">
                                        <h5>Apartment</h5>
                                        <span>238 property</span>
                                    </div>
                                </div>
                                <div class="sf-item set-bg" data-setbg="../assets/others/img/categories/cat-3.jpg">
                                    <div class="sf-text">
                                        <h5>Villa</h5>
                                        <span>230 property</span>
                                    </div>
                                </div>
                                <div class="sf-item set-bg" data-setbg="../assets/others/img/categories/cat-4.jpg">
                                    <div class="sf-text">
                                        <h5>Restaurent</h5>
                                        <span>38 property</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="single-sidebar">
                            <div class="section-title sidebar-title">
                                <h5>mortgage calculator</h5>
                            </div>
                            <form action="#" class="calculator-form">
                                <div class="filter-input">
                                    <p>Sale Price</p>
                                    <input type="text" placeholder="$">
                                </div>
                                <div class="filter-input">
                                    <p>Precent Down</p>
                                    <input type="text" placeholder="$">
                                </div>
                                <div class="filter-input">
                                    <p>Term(year)</p>
                                    <input type="text" placeholder="Year">
                                </div>
                                <div class="filter-input">
                                    <p>Interest Rate in %</p>
                                    <input type="text" placeholder="%">
                                </div>
                                <button type="submit" class="site-btn">Calculate</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Property Details Section End -->

{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script>
        var fav = document.getElementById("favorite");
        var unfav = document.getElementById("unfavorite");
        var id = document.getElementById("id").value;
        var type = document.getElementById("type").value;

        var urlFav = '{{ path('favorite', {'type':'type', 'itemId':'id'}) }}';
        urlFav = urlFav.replace("type", type);
        urlFav = urlFav.replace("id", id);
        var urlUnFav = '{{ path('unfavorite', {'type':'type', 'itemId':'id'}) }}';
        urlUnFav = urlUnFav.replace("type", type);
        urlUnFav = urlUnFav.replace("id", id);
        addOnClick(
            fav,
            unfav,
            urlFav
        );

        addOnClick(
            unfav,
            fav,
            urlUnFav
        );

        function switchIcons(icon, oppositeIcon){
            icon.disabled=false;
            icon.style.display='none';
            oppositeIcon.style.display='inline';
        }

        function addOnClick(icon, oppositeIcon, path){
            icon.addEventListener('click', function (event){
                {% if not app.user %}
                return window.location.replace('{{ path('app_login') }}')
                {% endif %}
                icon.disabled=true;
                switchIcons(icon,oppositeIcon);
                fetch(path, {'credentials':'include'}).then(function (response){
                    response.json().then(function (json){

                    })
                }).catch(function (){
                    switchIcons(icon,oppositeIcon);
                });
                event.preventDefault();
            });
        }
    </script>
{% endblock %}